Assume hisat is already installed and olive reference genome has been indexed. 

Prepare for alignments
```
cd /mnt/work/
mkdir hisat
cd hisat
mkdir alignments
mkdir unaligned
```

Link in qc'd files
```
ln -s ../*/quality/*qc.fq.gz .
ls
```

Align single-end reads

Check folder locations before running
```
cd /mnt/work/hisat/
for f in *qc.fq.gz
  do
    $HOME/hisat_bin/hisat2 -p 3 -x ~/hisat/...olive_index -U ${f}  -S ./alignments/${f}.sam --met-file ./alignments/${f}.met --un-gz ./unaligned/unaligned_${f}.gz
done
```

Align paired-end reads
```
cd /mnt/work/hisat/
$HOME/hisat_bin/hisat2 -p 3 -x ./index/olea-fruit-index -1 FIRST_READ -2 SECOND READ -S ERR...sam --met-file ERR...met --un-gz unaligned-se_ERR...gz --un-conc-gz unaligned-pe_ERR...gz
```

Link in transcriptome
```
ln -s ~/hisat...oe6...
ls
```
Index transcriptome for samtools, convert to bam, sort bam, and index the sorted bam.
```
for i in *.sam
do
  samtools faidx oe6...
  samtools view -bt oe6...fasta.fai ${i} > ${i}.bam
  samtools sort ${i}.bam -o ${i}.sorted.bam
  samtools index ${i}.sorted.bam 
done
```

Delete sam files, and unsorted bam files. 
